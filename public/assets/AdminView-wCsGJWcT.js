import{u as p}from"./auth-Y5ztimcq.js";import{u as m,c as _,o as r,a as c,b as l,w as h,r as b,d,e,t as i,f,R as w,n as x,F as v,g as k,m as y,h as $,i as g,j as S,k as A}from"./index-hyQisVAt.js";import{c as B}from"./createVueComponent-HXgFVN4N.js";var R=B("brand-producthunt","IconBrandProducthunt",[["path",{d:"M10 16v-8h2.5a2.5 2.5 0 1 1 0 5h-2.5",key:"svg-0"}],["path",{d:"M12 12m-9 0a9 9 0 1 0 18 0a9 9 0 1 0 -18 0",key:"svg-1"}]]);const C={class:"nav-link-icon d-md-none d-lg-inline-block"},V={class:"nav-link-title"},M={__name:"ANavbarItem",props:{name:{type:String,required:!0},icon:{type:[Object,String,Function],required:!0},route:{type:Object,required:!0},exact:{type:Boolean,default:!1}},setup(a){const n=a,t=m(),s=_(()=>{const o=t.currentRoute.value;return n.exact?t.resolve(n.route).href===o.href:t.resolve(n.route).href.startsWith(o.href)});return(o,u)=>(r(),c("li",{class:x([{active:s.value},"nav-item"])},[l(f(w),{class:"nav-link",to:a.route},{default:h(()=>[e("span",C,[(r(),d(b(a.icon),{class:"icon"}))]),e("span",V,i(a.name),1)]),_:1},8,["to"])],2))}},j={class:"navbar-nav"},L={__name:"ANavbar",props:{items:{type:Array,required:!0}},setup(a){return(n,t)=>(r(),c("ul",j,[(r(!0),c(v,null,k(a.items,(s,o)=>(r(),d(M,y({key:`link-${o}`},s),null,16))),128))]))}},N={class:"navbar navbar-expand-md d-print-none"},q={class:"container-xl"},O=$('<button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar-menu" aria-controls="navbar-menu" aria-expanded="false" aria-label="Toggle navigation"><span class="navbar-toggler-icon"></span></button><h1 class="navbar-brand navbar-brand-autodark d-none-navbar-horizontal pe-0 pe-md-3"><a href="."><img src="https://preview.tabler.io/static/logo.svg" width="110" height="32" alt="Tabler" class="navbar-brand-image"></a></h1>',2),P={class:"navbar-nav flex-row order-md-last"},z={class:"nav-item dropdown"},F={href:"#",class:"nav-link d-flex lh-1 text-reset p-0","data-bs-toggle":"dropdown","aria-label":"Open user menu"},I={class:"d-none d-xl-block ps-2"},D={class:"mt-1 small text-secondary"},E={class:"navbar-expand-md"},T={class:"navbar-collapse collapse",id:"navbar-menu",style:{}},H={class:"navbar"},W={class:"container-xl"},G={class:"row flex-fill align-items-center"},J={class:"col"},K=e("div",{class:"col-2 d-none d-xxl-block"},[e("div",{class:"my-2 my-md-0 flex-grow-1 flex-md-grow-0 order-first order-md-last"},[e("form",{action:"./",method:"get",autocomplete:"off",novalidate:""},[e("div",{class:"input-icon"},[e("span",{class:"input-icon-addon"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"icon",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round"},[e("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),e("path",{d:"M10 10m-7 0a7 7 0 1 0 14 0a7 7 0 1 0 -14 0"}),e("path",{d:"M21 21l-6 -6"})])]),e("input",{type:"text",value:"",class:"form-control",placeholder:"Searchâ€¦","aria-label":"Search in website"})])])])],-1),Q={__name:"AppMenu",setup(a){const n=[{name:"Products",icon:R,route:{name:"products.index"}}],t=p(),s=m(),o=_(()=>t.user??{}),u=()=>{confirm("Are you sure you want to logout?")&&g.post("/logout").then(()=>{s.replace({name:"login"})})};return(Z,ee)=>(r(),c(v,null,[e("header",N,[e("div",q,[O,e("div",P,[e("div",z,[e("a",F,[e("div",I,[e("div",null,i(o.value.name),1),e("div",D,i(o.value.email),1)])]),e("div",{class:"dropdown-menu dropdown-menu-end dropdown-menu-arrow"},[e("button",{onClick:u,class:"dropdown-item"}," Logout ")])])])])]),e("header",E,[e("div",T,[e("div",H,[e("div",W,[e("div",G,[e("div",J,[l(L,{items:n})]),K])])])])])],64))}},U={class:"page"},X={class:"page-wrapper"},Y={__name:"AppLayout",setup(a){return(n,t)=>(r(),c("div",U,[l(Q),e("div",X,[S(n.$slots,"default")])]))}},oe=Object.assign({beforeRouteEnter:(a,n,t)=>{const s=p();g.get("/user").then(o=>{s.user=o.data.data,t()}).catch(()=>{t({name:"login"})})}},{__name:"AdminView",setup(a){return(n,t)=>{const s=A("RouterView");return r(),d(Y,null,{default:h(()=>[l(s)]),_:1})}}});export{oe as default};
