import{_ as d}from"./AButton-ojW1-RL-.js";import{p as o,u as h,E as x,d as y,w as s,i as p,o as b,s as u,t as S,b as r,f as V}from"./index-hyQisVAt.js";import{_ as $,I as E}from"./ProductForm-FyPUsCc9.js";import"./createVueComponent-HXgFVN4N.js";import"./AInput-3W-lo2iY.js";const I={__name:"EditProduct",props:{id:String},setup(m){const c=m,n=o({}),l=o(!1),t=o({}),f=h(),i=o(!1),v=e=>{n.value={},l.value=!0,p.put(`/products/${c.id}`,e).then(()=>{f.push({name:"products.index"})}).catch(a=>{a.response.status===422&&(n.value=a.response.data.errors)}).finally(()=>l.value=!1)},_=e=>{i.value=!0,p.get(`/products/${e}`).then(a=>{t.value=a.data.data}).catch(a=>{console.log({err:a})}).finally(()=>{i.value=!1})};return x(()=>_(+c.id)),(e,a)=>(b(),y($,{modelValue:t.value,"onUpdate:modelValue":a[0]||(a[0]=g=>t.value=g),onSubmit:v,loading:i.value,validation:n.value},{title:s(()=>[u(" Edit "+S(t.value.title),1)]),actions:s(()=>[r(d,{to:{name:"products.index"}},{default:s(()=>[u(" Cancel ")]),_:1},8,["to"]),r(d,{variant:"primary",type:"submit",loading:l.value},{default:s(()=>[r(V(E),{class:"icon"}),u(" Save ")]),_:1},8,["loading"])]),_:1},8,["modelValue","loading","validation"]))}};export{I as default};
